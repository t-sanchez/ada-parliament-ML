<!DOCTYPE html>
<html>
<head>
    <title>Deputies Voting</title>
    <link rel="stylesheet" href="../static/lib/css/bootstrap.min.css">
    <link rel="stylesheet" href="../static/lib/css/keen-dashboards.css">
    <link rel="stylesheet" href="../static/css/custom.css">
    <link rel="stylesheet" href="https://cdn.rawgit.com/LeaVerou/awesomplete/gh-pages/awesomplete.css">

</head>
<body class="application">

    <div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
        <div class="container-fluid">
            <div class="navbar-header">
                <a class="navbar-brand" href="index.html">Swiss Parliament Voting Visualisation</a><p class="navbar-text">
                How do the people from the National Council vote?</p>
            </div>
        </div>
    </div>

    <style>
        body {
            background: gainsboro;
            color:black;
        }
        text {
            stroke-opacity: 1;
            color: black ;
         }
      .links line {
             stroke: #999;
             stroke-opacity: 0.1;
        }
        .nodes circle {
            stroke: #fff;
            stroke-width: 1.5px;
        }
        .legend rect {
            fill:white;
            stroke:black;
            opacity:0.8;}
        search {
            width: 300px;
        }
    </style>

    <div class="container-fluid">
        <div class="col-sm-9">
            <div class="chart-wrapper">
                <div class="chart-title">
                    Which deputee are close in their way of voting?
                </div>
                <div class="chart-stage">
                    <div id="grid-1-1" align = "center">
                        <input class="awesomplete"
                               data-minchars="1"
                               data-maxitems="5"
                               placeholder="Enter a name"
                               onkeypress="handleKeyPress(event)"
                               id="countries"/>

                        <svg width="1080" height="800"></svg>
                        <script src="https://cdn.rawgit.com/LeaVerou/awesomplete/gh-pages/awesomplete.min.js"></script>
                        <script src="https://d3js.org/d3.v4.min.js"></script>
                        <script src="../js/votation_viz.js"></script>
                    </div>
                </div>
                <div class="chart-notes">
                    The aim of this visualization is to find which deputies are closest in the manner of voting.
                    To obtain the result shown above, a few steps have to be taken:
                    <ul>
                        <li><b>Vector of votes:</b> First of all, we embed each of the votes of the deputies as a vector,
                            taking different entries depending on whether a deputee was present or absent, and what he voted
                            when he was present</li>
                        <li><b>Distance between two vectors of votes:</b> Having the vector of votes of two deputies, we have to compute the
                        distance between them. To do so, we simply increase the distance when their vote was not similar, and do not change it when
                        it was the same vote. This has then to be weighted by the number of times that two deputies voted together, in order
                        to make this quantity comparable for everyone.</li>
                        <li><b>Obtain the matrix of distances:</b> Having computed the distance between all of the deputies, we can now
                        compute the matrix of distances between all of them, and the graph is generated by considering the N persons with
                        the most similar voting profile.</li>
                    </ul>
                    Overall, the result tends to cluster the deputies by party, with some exceptions. This conforts us in the fact that
                    people in the same party vote simlarly, as expected.
                </div>
            </div>

        </div>
        <div class="col-sm-3">
            <div class="chart-wrapper">
                <div class="chart-title">
                   Deputee information:
                </div>
                <div class="chart-stage">
                <div>
                    <div><b>Name: </b> <d id="councilorName"> Name </d></div>
                    <div><b>Party: </b> <d id="councilorParty"> Party </d></div>
                    <img id = "pics"
                         src = "../pictures/2023.jpg"
                         alt = "Deputee picture"
                         width="200"
                         onclick="vote()"/>
                    </div>
                </div>
            </div>
        </div>
    </div>




<hr>
<p class="small text-muted">Inspired from the design of <a href ="https://github.com/adilmoujahid/DonorsChoose_Visualization"> Adil Moujahid</a>. </p>

</div>

<script src="../static/lib/js/jquery.min.sjs"></script>
<script src="../static/lib/js/bootstrap.min.js"></script>
<script src="../static/lib/js/d3.js"></script>
<script src="../static/lib/js/keen.min.js"></script>
</body>

<script language="javascript" type="text/javascript">
    function vote() {
        window.location.assign("../html/votation_viz.html", '_blank');}
    function subj() {
        window.location.assign("../html/votation_subj.html", '_blank');
    }
</script>

</html>




